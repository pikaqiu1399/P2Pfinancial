"use strict";$(document).ready(function(){$("#registerForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{message:"必填！",validators:{notEmpty:{message:"用户名不能为空！"},stringLength:{min:6,max:12,message:"用户名长度在6~12位"},regexp:{regexp:/^[a-zA-Z0-9_\.]+$/,message:"用户名只能由字母、数字、点和下划线组成e"}}},tel:{message:"请输入手机号码",validators:{notEmpty:{message:"手机号码不能为空！"},stringLength:{min:11,max:11,message:"长度在11位"},regexp:{regexp:/^[a-zA-Z0-9_\.]+$/,message:"The username can only consist of alphabetical, number, dot and underscore"}}},email:{validators:{notEmpty:{message:"电子邮箱不能为空！"},emailAddress:{message:"请输入正确的邮箱地址！"}}},password:{validators:{notEmpty:{message:"密码不能为空！"},stringLength:{min:6,max:18,message:"密码长度6~18位"}}},checkPwd:{validators:{notEmpty:{message:"确认密码不能为空！"},stringLength:{min:6,max:18,message:"密码长度6~18位"}}}}}).on("success.form.bv",function(e){e.preventDefault();var s=$(e.target),a=(s.data("bootstrapValidator"),s.serialize());$.post("./api/userAdd.php",a,function(e){console.log("api返回的结果",e),e.isSuccess?(alert(e.msg),location.href="./login.php"):alert(e.msg)},"json")}),$("#loginForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{message:"必填！",validators:{notEmpty:{message:"用户名不能为空！"},stringLength:{min:6,max:12,message:"用户名长度在6~12位"},regexp:{regexp:/^[a-zA-Z0-9_\.]+$/,message:"用户名只能由字母、数字、点和下划线组成e"}}},password:{validators:{notEmpty:{message:"密码不能为空！"},stringLength:{min:6,max:18,message:"密码长度6~18位"}}}}}).on("success.form.bv",function(e){e.preventDefault();var s=$(e.target),a=(s.data("bootstrapValidator"),s.serialize());$.post("./api/userCheck.php",a,function(e){if(console.log("api返回的结果",e),e.isSuccess){$("#loginModalTitle").text("登录成功！"),$("#loginModalContent").html("<span class='glyphicon glyphicon-ok'></span>&emsp;".concat(e.msg,",等待<span id='timeNum'>5</span>秒之后跳转到个人中心"));var s=5,a=setInterval(function(){s--,$("#timeNum").text(s),0==s&&(clearInterval(a),location.href="./personal.php")},1e3)}else $("#loginModalTitle").text("登录失败！"),$("#loginModalContent").html("<span class='glyphicon glyphicon-remove'></span>&emsp;".concat(e.msg));$("#loginModal").modal("show")},"json")})});